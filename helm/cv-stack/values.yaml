# Default values for cv-stack
replicaCount: 2

namespace:
  name: cv-stack
  create: true

# CV Site Configuration
cvSite:
  enabled: true
  image:
    repository: nginx
    tag: alpine
    pullPolicy: IfNotPresent
  replicas: 2
  service:
    type: ClusterIP
    port: 80
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"
  ingress:
    enabled: true
    host: localhost
    path: /
    pathType: Prefix

# Linktree Site Configuration
linktreeSite:
  enabled: true
  image:
    repository: nginx
    tag: alpine
    pullPolicy: IfNotPresent
  replicas: 2
  service:
    type: ClusterIP
    port: 80
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"
  ingress:
    enabled: true
    host: localhost
    path: /linktree
    pathType: Prefix

# Traefik Configuration
traefik:
  enabled: true
  image:
    repository: traefik
    tag: v2.10
    pullPolicy: IfNotPresent
  replicas: 1
  service:
    type: LoadBalancer
    ports:
      web: 80
      admin: 8080
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  ingress:
    enabled: true
    host: localhost
    path: /api
    pathType: Prefix
  rbac:
    create: true

# Ingress Configuration
ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/rule-type: PathPrefix
  hosts:
    - host: localhost
      paths:
        - path: /
          pathType: Prefix
          service: cv-site
        - path: /linktree
          pathType: Prefix
          service: linktree-site
        - path: /api
          pathType: Prefix
          service: traefik
